- This paper was motivated by the problem of the efficient signal map construction for fingerprinting-based localization on smartphones. The conventional manual site survey method;  known to be time-consuming and labor-intensive;  hinders the penetration of fingerprinting methods in practice. This paper suggests a GraphSLAM-based approach to automate this signal map construction process by reducing the survey overhead significantly. A surveyor is merely asked to walk through an indoor venue with an Android smartphone held in hand with a little human intervention. Meanwhile;  opportunistic signals (e.g.;  WiFi and magnetic fields) are captured by smartphone sensors. We construct a GraphSLAM engine to first identify the measurement constraints from these signal observations and then recover the surveyor's walking trajectory by the graph optimization. We can generate signal maps using the captured signals alongside the recovered trajectory. In this paper;  we propose a WiFi signal similarity validation method to reduce false positive loop-closures and exploit the magnetic headings to improve the trajectory optimization performance. In addition;  we propose to use the generated magnetic field variance map and the lights distribution map for localization. The efficacy of the proposed site survey approach is proven through field experiments;  and real-time localization is demonstrated on a smartphone using the generated signal maps. The localization experiment was conducted by a single user with the same Android smartphone that was used in the site survey. Therefore;  the usability of signal maps on other devices and the generality to other users have not yet been testified. We will leave these issues in our future work. 
