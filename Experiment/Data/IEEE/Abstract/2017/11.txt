Through calculating the similarity between the historical and the new query data samples;  a probabilistic locally weighted prediction method based on supervised latent factor analysis (SLFA) model is proposed. In this method;  the contributions of different historical samples are expressed through incorporating the similarity index into the noise variance of the process variables;  which renders strong adaptability of the method for describing nonlinear relationships and abrupt changes of the process. Additionally;  the proposed locally weighted method is extended to the semisupervised form;  which is apparently more practical in real industrial processes;  since the sampling rates of quality variables are much lower than those of ordinary process variables. Efficient expectation maximization algorithms are designed for parameter learning in both SLFA and semisupervised locally weighted LFA methods. Two real industrial processes are provided to evaluate the feasibility and the effectiveness of the newly developed soft sensors. 