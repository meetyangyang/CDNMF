This paper presents an indoor relocalization system using a dual-stream convolutional neural network (CNN) with both color images and depth images as the network inputs. Aiming at the pose regression problem;  a deep neural network architecture for RGB-D images is introduced;  a training method by stages for the dual-stream CNN is presented;  different depth image encoding methods are discussed;  and a novel encoding method is proposed. By introducing the range information into the network through a dual-stream architecture;  we not only improved the relocalization accuracy by about 20% compared with the state-of-the-art deep learning method for pose regression;  but also greatly enhanced the system robustness in challenging scenes such as large-scale;  dynamic;  fast movement;  and night-time environments. To the best of our knowledge;  this is the first work to solve the indoor relocalization problems based on deep CNNs with RGB-D camera. The method is first evaluated on the Microsoft 7-Scenes data set to show its advantage in accuracy compared with other CNNs. Large-scale indoor relocalization is further presented using our method. The experimental results show that 0.3 m in position and 4Â° in orientation accuracy could be obtained. Finally;  this method is evaluated on challenging indoor data sets collected from motion capture system. The results show that the relocalization performance is hardly affected by dynamic objects;  motion blur;  or night-time environments. 