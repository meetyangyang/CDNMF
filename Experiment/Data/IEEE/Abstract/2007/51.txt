Kits (such as accessories;  fixtures;  jigs;  etc.) are widely used in production for many industries. They are normally product- and machine-specific;  so a large kit inventory must be maintained when the product-mix variation is high. Fortunately;  many kits are reconfigurable. That means they can be dissembled into components and then these components themselves (or together with some other components) can be reassembled into new types of kits. Therefore;  we can save money and improve supply chain responsiveness by purchasing components instead of entire kits. However;  research on capacity planning with reconfigurable kits has not been reported. We proposed a two-level hierarchical planning methodology to generate a complete capacity planning solution using mixed-integer linear programming. MaxIt covers mid-range monthly planning and automated capacity allocation system covers short-range weekly planning. These systems are integrated to generate optimal capacity plans considering kit components. This methodology has been successfully implemented in Intel's global semiconductor assembly and test manufacturing since 2004. In this paper;  we present the hierarchical modeling framework and focus on MaxIt modeling with kit reconfiguration. We also verify the methodology by numerical experiments in a real production environment. 