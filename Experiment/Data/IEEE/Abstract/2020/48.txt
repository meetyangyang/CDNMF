This article proposes a decision-making procedure that supports the city energy manager in determining the optimal energy retrofit plan of an existing public street lighting system throughout a wide urban area. The proposed decision model aims at simultaneously maximizing the energy consumption reduction and achieving an optimal allocation of the retrofit actions among the street lighting subsystems;  while efficiently using the available budget. The resulting optimization problem is formulated as a quadratic knapsack problem. The proposed solution relies on a decentralized control algorithm that combines discrete dynamic programming with additive decomposition and value functions approximation. The optimality and complexity of the presented strategy are investigated;  demonstrating that the proposed algorithm constitutes a fully polynomial approximation scheme. Simulation results related to a real street lighting system in the city of Bari (Italy) are presented to show the effectiveness of the approach in the optimal energy management of large-scale street lighting systems. 