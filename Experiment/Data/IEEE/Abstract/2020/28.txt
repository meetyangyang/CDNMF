Considering time-varying transition probability (TVTP);  this article combines Markov regime switching with a dynamic conditional correlation generalized autoregressive conditional heteroscedasticity (DCC-GARCH) model to construct a new hedging model and study a state-dependent minimum variance hedging ratio. A two-stage maximum likelihood method is constructed to estimate the model parameters. A filtering algorithm is used in an estimation process. Empirical results on commodity futures hedging show that compared with other benchmark models;  the proposed one has the best fitting effect. In addition;  in terms of hedging effectiveness;  the proposed model is superior to other models in most cases;  which means that introducing TVTP into a DCC-GARCH model can effectively improve the performance of hedging portfolio. 