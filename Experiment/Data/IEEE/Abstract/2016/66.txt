A model predictive control (MPC) method is presented for the optimizing energy consumption of Internet data centers at the same time maintaining the quality of service (QoS). A dynamical model reflecting computational interactions and thermal relationship between each components of the data center is presented. The model is used to formulate a constrained nonlinear optimal control problem to minimize the energy consumption of both information technology system and cooling technology system. The constraints of this optimal control problem can capture key design requirements;  including QoS and thermal constraints for device reliability. Solving this optimal control problem in MPC fashion provides optimal server provisioning;  job scheduling;  and thermal management techniques that meet specific desired service quality requirements. To reduce the computational delay in solving the constrained nonlinear optimization problem;  an approximation algorithm is developed to provide a fast evaluation of complex constrains. The performance of the proposed method is studied through simulations. The results show that significant energy saving can be achieved with the guaranteed throughput of data center. 