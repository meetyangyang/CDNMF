The recent developments of technologies in Internet of Things (IoT) provide the opportunities for smart manufacturing with real-time traceability;  visibility;  and interoperability in production planning;  execution;  and control. To fulfill this target;  this work presents a real-time production performance analysis and exception diagnosis model (PAEDM). By this model;  hierarchical-timed-colored Petri net (HTCPN) with smart tokens that change just like smart objects in practice is used to analyze the sensor data such that the critical performance information can be perceived. Decision Tree is used to diagnose exceptions from the critical production performance;  so that persuasive qualitative and quantitative exception information can be extracted accurately. The presented method is demonstrated by a case study and simulation results show that PAEDM can be used to effectively analyze production performance and exceptions in real-time for dynamic and stochastic manufacturing processes. 