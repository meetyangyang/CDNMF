This work embodies the overspeed protection and safe headway control into an iterative learning control (ILC) based train trajectory tracking algorithm to satisfy the high safety requirement of high-speed railways. First;  a D-type ILC scheme with overspeed protection is proposed. Then;  a corresponding coordinated ILC scheme with multiple trains is studied to keep the safe headway. Finally;  the control scheme under traction/braking force constraint is also considered for this proposed ILC-based train trajectory tracking strategy. Rigorous theoretical analysis has shown that the proposed control schemes can guarantee the asymptotic convergence of train speed and position to its desired profiles without requirement of the physical model aside from some mild assumptions on the system. Effectiveness is further evaluated through simulations. 