We present a new way to solve the “lot-sizing” problem viewed as a stochastic noncooperative resource contention game. We develop a Stochastic Flow Model (SFM) for polling systems with non-negligible changeover times enabling us to formulate lot sizing as an optimization problem without imposing constraints on the distributional characteristics of the random processes in the system. Using Infinitesimal Perturbation Analysis (IPA) methods;  we derive gradient estimators of the performance metrics of interests with respect to the lot-size parameters and prove they are unbiased. We then derive an online gradient-based algorithm for obtaining optimal lot sizes from both a system-centric and user-centric perspective. Uncharacteristically for such cases;  there is no gap between the two solutions in the two-class case for which we have obtained explicit numerical results. We derive a proof of this phenomenon for a deterministic version of the problem;  suggesting that lot-sizing-like scheduling policies in resource contention problems have a natural property of balancing certain user-centric and system-centric performance metrics. 