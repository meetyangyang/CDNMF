In a human-robot coexisting environment;  it is pivotal for a mobile service robot to arrive at the goal position safely and efficiently. In this article;  an elastic band-based rapidly exploring random tree (EB-RRT) algorithm is proposed to achieve real-time optimal motion planning for the mobile robot in the dynamic environment;  which can maintain a homotopy optimal trajectory based on current heuristic trajectory. Inspired by the EB method;  we propose a hierarchical framework consisting of two planners. In the global planner;  a time-based RRT algorithm is used to generate a feasible heuristic trajectory for a specific task in the dynamic environment. However;  this heuristic trajectory is nonoptimal. In the dynamic replanner;  the time-based nodes on the heuristic trajectory are updated due to the internal contraction force and the repulsive force from the obstacles. In this way;  the heuristic trajectory is optimized continuously;  and the final trajectory can be proved to be optimal in the homotopy class of the heuristic trajectory. Simulation experiments reveal that compared with two stateof-the-art algorithms;  our proposed method can achieve better performance in dynamic environments. 