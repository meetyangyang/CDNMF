This article investigates a hybrid flow shop scheduling problem that consists of a batch processor in the upstream and a discrete processor in the downstream. Limited waiting time between the batch processor and discrete processor is taken into consideration. Such a scheduling problem is commonly seen as bottlenecks in the production of precision parts;  back-end process of semiconductor products;  and glass and steel industries. A mixed-integer linear programming model is presented to minimize the makespan. Considering the complexity of this problem and the imperative requirement in real-time optimization;  we first develop a constructive heuristic together with the worst case analysis by exploiting the key decision structure of the problem. Based on the decision structure;  we then develop a learning-based scheduling approach via customized genetic programming to automatically generate effective heuristics for this problem. Lower bounds are also developed to provide a measurement for the performance of proposed algorithms. Numerical results show that our proposed algorithms outperform the existing metaheuristics and are capable of providing high-quality solutions using less computational time. 